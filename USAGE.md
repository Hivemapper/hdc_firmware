# Utilites

For all these programs, full options can be found with --help.
The most likely to be changed options are listed here.

## imu-logger

--live Output samples to stdout, does not disable logging to file.
--logInterval Interval duration, in milliseconds, data collection.
--logDuration Duration of each log file in seconds.

## gnss-logger

--snr Ouptut snr to log
--minMode Minimum fix mode to log

## lorawan-logger

--live Output message responses to stdout.
--verbose 0 quiet, 1 error (default), 2 warn, 3 info, 4 debug (outputs things like rssi and radio configurations) These messages are logged to stderr.
--input-path directory to watch for commands, defaults to /tmp/lorawan
--output-path directory to write responses to, defaults to /tmp/lorawan, though the systemd service sets it to /mnt/data/lorawan

# Scripts

## resize-data-partition.sh

No options, this script resizes the data (/dev/mmcblk0p4) partition and filesystem to fill the emmc. Find the script at:
/opt/dashcam/bin/resize-data-partition.sh

## Access point and wifi-direct scripts

The /opt/dashcam/bin/network directory has seven different scripts useful for managing what type of network endpoint is available.

###Basic switching utilities

1. wifi\_switch\_AP.sh - Bring up the Access point configuration.

1. wifi\_switch\_P2P.sh - Bring up the P2P (Wi-fi direct) configuration.

1. wifi\_P2Pconnect\_any.sh - Attempt a P2P handshake with any device available. Only works when P2P interface is up.
Generated /tmp/CONNECT\_SUCCESS on success or /tmp/CONNECT\_FAILURE on failure.

1. wifi\_P2Pconnect\_sel.sh *MACADDRESS* - Attempt a P2P handshake with the device matching *MACADDRESS*. Only works when P2P interface is up.
Generated /tmp/CONNECT\_SUCCESS on success or /tmp/CONNECT\_FAILURE on failure.

###Advanced tests and scripts

All of these scripts invoke the previous four, so if you modify any of those, take care to update these!

1. test\_WifiSwitch.sh - Tests switching from AP mode, to P2P mode. Lingers in P2P mode for 15 seconds, then switches back to AP mode.
Useful for checking if interfaces are configured properly.

1. test\_P2Pconnect\_any.sh - Brings down the default AP configuration and brings up the P2P, while initiating a handshake with
any available device. Gives a grace period of 1 minute, where if a connection is not detected by then, it switches back to AP mode.
It does this by checking the CONNECT\_SUCCESS/CONNECT\_FAILURE files generated by wifi\_P2Pconnect\_any.sh

1. test\_P2Pconnect\_sel.sh *MACADDRESS* - Brings down the default AP configuration and brings up the P2P, while initiating a handshake with
the device matching *MACADDRESS*. Gives a grace period of 1 minute, where if a connection is not detected by then, it switches back to AP mode.
It does this by checking the CONNECT\_SUCCESS/CONNECT\_FAILURE files generated by wifi\_P2Pconnect\_sel.sh
