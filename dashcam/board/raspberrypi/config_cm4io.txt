start_file=start4.elf
fixup_file=fixup4.dat

kernel=u-boot.bin

# Disable overscan assuming the display supports displaying the full resolution
# If the text shown on the screen disappears off the edge, comment this out
disable_overscan=1

# How much memory in MB to assign to the GPU on Pi models having
# 256, 512 or 1024 MB total memory
gpu_mem_256=100
gpu_mem_512=100
gpu_mem_1024=100

# fixes rpi (3B, 3B+, 3A+, 4B and Zero W) ttyAMA0 serial console
# {chris.shaw}
# Yes, we seem to need this on the CM4IO as well.
dtoverlay=miniuart-bt

dtparam=i2c_arm=on
dtparam=spi=on

dtoverlay=vc4-fkms-v3d,cma-512
max_framebuffers=2

dtoverlay=dwc2,dr_mode=host
dtoverlay=imx477

# Enables the hardware watchdog that will reboot the system after 15 seconds
# in case of a kernel panic.
dtparam=watchdog=on

[cm4]
# {RPi} 
# Enable host mode on the 2711 built-in XHCI USB controller.
# This line should be removed if the legacy DWC2 controller is required
# (e.g. for USB device mode) or if USB support is not required.
# {chris.shaw}
# By enabling this we can use a USB keyboard.
otg_mode=1
